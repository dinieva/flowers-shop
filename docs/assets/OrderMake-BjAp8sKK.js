import{_ as G,I as N,x as F,r as p,k as I,o as n,c as i,u as C,b as e,i as a,v,J as _,K as H,F as P,d as S,L as h,t as r,h as y,g as T,a as L,w as A,G as E,m as J,p as K,e as R,H as $}from"./index-B-2wakrO.js";const s=f=>(K("data-v-fbb768f0"),f=f(),R(),f),j={class:"container"},q=s(()=>e("h1",null,"Оформление заказа",-1)),z={key:0,class:"content"},Q={class:"left"},W=s(()=>e("h3",null,"Выберите способ получения заказа",-1)),X={class:"checkbox-group"},Y=s(()=>e("label",{for:"delivery"},"Доставка курьером ",-1)),Z=s(()=>e("label",{for:"pickup"},"Самовывоз из салона ",-1)),ee={key:0,class:""},te=s(()=>e("h3",null,"Информация о получателе",-1)),oe={class:"receiver-info-form"},se=s(()=>e("label",{for:"name"},"Имя получателя",-1)),le=s(()=>e("label",{for:"address"},"Адрес доставки",-1)),ae=s(()=>e("label",{for:"phone"},"Телефон для связи",-1)),ne=s(()=>e("option",{disabled:"",value:""},"Время доставки",-1)),de=["value"],ie=s(()=>e("h3",null,"Дополнительные опции",-1)),ue={class:"checkbox-group"},re={class:"option"},ce=s(()=>e("label",{for:"surprise"},"Сюрприз",-1)),pe=s(()=>e("span",{class:"clue"},[e("p",{title:"Курьер доставит букет ко времени без предварительного звонка"},"?")],-1)),ve={class:"option"},_e=s(()=>e("label",{for:"anonymous"}," Анонимный",-1)),me=s(()=>e("span",{class:"clue"},[e("p",{title:"Получателю не будет известно о заказчике"},"?")],-1)),he={class:"option"},ye=s(()=>e("label",{for:"sending-pic"},"Предварительное фото",-1)),fe={class:"option"},be=s(()=>e("label",{for:"postcard"},"Подписать открытку",-1)),ke={class:"checkbox-group payment"},xe=s(()=>e("label",{for:"online"},"Онлайн",-1)),ge=s(()=>e("label",{for:"after-delivery"},"Курьеру при получении",-1)),Ve={key:1,class:""},Ue=s(()=>e("h3",null,"Информация о покупателе",-1)),Ie={class:"receiver-info-form"},Ce=s(()=>e("label",{for:"name"},"Имя",-1)),Te=s(()=>e("label",{for:"phone"},"Телефон для связи",-1)),Oe={class:"checkbox-group payment"},Pe=s(()=>e("label",{for:"online"},"Онлайн",-1)),Se=s(()=>e("label",{for:"shop"},"В магазине",-1)),we={class:"right"},Me={class:"cart-items"},Be={class:"total-price flex"},De=s(()=>e("div",{class:"left-side"},"Товары:",-1)),Ge={class:"right-side"},Ne={key:0,class:"delivery-price flex"},Fe=s(()=>e("div",{class:"left-side"},"Доставка:",-1)),He={class:"right-side"},Le={class:"bonus-counter-current flex"},Ae={key:0},Ee={key:1},Je=["placeholder"],Ke={class:"checkbox-wrapper-3"},Re=s(()=>e("label",{for:"cbx-3",class:"toggle"},[e("span")],-1)),$e={class:"total-price flex"},je=s(()=>e("div",{class:"left-side"},"Сумма к оплате:",-1)),qe={class:"right-side"},ze={class:"bonus-counter-add flex"},Qe=s(()=>e("div",{class:"left-side"},"Начислим бонусами:",-1)),We={class:"right-side"},Xe={key:1,type:"btn",class:"btn border-btn color-one"},Ye={key:1,class:"empty-content"},Ze=s(()=>e("h4",null,"Нет товаров для оформления",-1)),et=.05,tt={__name:"OrderMake",setup(f){const w=N(),c=F(),u=p("delivery"),b=p(500),m=p(!1),d=p(""),k=p(0),x=I(()=>c.totalPrice<1800?400:0),O=I(()=>m.value?c.totalPrice+x.value-k.value:c.totalPrice+x.value),M=I(()=>Math.ceil(O.value*et)),g=p([]),B=()=>{g.value.length=0;let V=new Date,o;for(let t=0;t<=5;t++){o=V.setHours(V.getHours()+2);let U=new Date(o).toLocaleString();g.value.push(U.slice(0,-3))}},l=p({typeOfGetOrder:u.value,items:c.allCartItems}),D=()=>{l.value.payment=d.value,l.value.typeOfGetOrder=u.value,w.success("Ваш заказ принят!"),console.log("оформлено",l.value,d.value)};return(V,o)=>(n(),i("div",j,[q,C(c).allCartItems.length!==0?(n(),i("div",z,[e("div",Q,[W,e("div",X,[a(e("input",{type:"radio",id:"delivery",class:"form_radio",name:"get-oder",value:"delivery","onUpdate:modelValue":o[0]||(o[0]=t=>u.value=t),checked:""},null,512),[[v,u.value]]),Y,a(e("input",{type:"radio",id:"pickup",class:"form_radio",name:"get-oder",value:"pickup","onUpdate:modelValue":o[1]||(o[1]=t=>u.value=t)},null,512),[[v,u.value]]),Z]),u.value==="delivery"?(n(),i("div",ee,[te,e("form",oe,[se,a(e("input",{type:"text",id:"name","onUpdate:modelValue":o[2]||(o[2]=t=>l.value.name=t)},null,512),[[_,l.value.name]]),le,a(e("input",{type:"text",id:"address","onUpdate:modelValue":o[3]||(o[3]=t=>l.value.address=t)},null,512),[[_,l.value.address]]),ae,a(e("input",{type:"phone",id:"phone","onUpdate:modelValue":o[4]||(o[4]=t=>l.value.phone=t)},null,512),[[_,l.value.phone]]),a(e("select",{name:"deliveryTime",id:"deliveryTime",onClick:B,"onUpdate:modelValue":o[5]||(o[5]=t=>l.value.deliveryTime=t)},[ne,(n(!0),i(P,null,S(g.value,(t,U)=>(n(),i("option",{value:t,key:U},r(t),9,de))),128))],512),[[H,l.value.deliveryTime]])]),ie,e("form",ue,[e("div",re,[a(e("input",{type:"checkbox",name:"",id:"surprise","onUpdate:modelValue":o[6]||(o[6]=t=>l.value.surprise=t)},null,512),[[h,l.value.surprise]]),ce,pe]),e("div",ve,[a(e("input",{type:"checkbox",name:"",id:"anonymous","onUpdate:modelValue":o[7]||(o[7]=t=>l.value.anonymous=t)},null,512),[[h,l.value.anonymous]]),_e,me]),e("div",he,[a(e("input",{type:"checkbox",name:"",id:"sending-pic","onUpdate:modelValue":o[8]||(o[8]=t=>l.value.sendPhoto=t)},null,512),[[h,l.value.sendPhoto]]),ye]),e("div",fe,[a(e("input",{type:"checkbox",name:"",id:"postcard","onUpdate:modelValue":o[9]||(o[9]=t=>l.value.card=t)},null,512),[[h,l.value.card]]),be])]),e("h3",null,"Способ оплаты "+r(d.value),1),e("div",ke,[a(e("input",{type:"radio",id:"online",class:"form_radio",name:"payment",value:"online","onUpdate:modelValue":o[10]||(o[10]=t=>d.value=t)},null,512),[[v,d.value]]),xe,a(e("input",{type:"radio",id:"after-delivery",class:"form_radio",name:"payment",value:"after-delivery","onUpdate:modelValue":o[11]||(o[11]=t=>d.value=t)},null,512),[[v,d.value]]),ge])])):y("",!0),u.value==="pickup"?(n(),i("div",Ve,[Ue,e("form",Ie,[Ce,a(e("input",{type:"text",id:"name","onUpdate:modelValue":o[12]||(o[12]=t=>l.value.name=t)},null,512),[[_,l.value.name]]),Te,a(e("input",{type:"phone",id:"phone","onUpdate:modelValue":o[13]||(o[13]=t=>l.value.phone=t)},null,512),[[_,l.value.phone]])]),e("h3",null,"Способ оплаты "+r(d.value),1),e("div",Oe,[a(e("input",{type:"radio",id:"online",class:"form_radio",name:"payment",value:"online","onUpdate:modelValue":o[14]||(o[14]=t=>d.value=t)},null,512),[[v,d.value]]),Pe,a(e("input",{type:"radio",id:"shop",class:"form_radio",name:"payment",value:"shop","onUpdate:modelValue":o[15]||(o[15]=t=>d.value=t)},null,512),[[v,d.value]]),Se])])):y("",!0)]),e("div",we,[e("div",Me,[(n(!0),i(P,null,S(C(c).allCartItems,t=>(n(),J($,{key:t,product:t},null,8,["product"]))),128))]),e("div",Be,[De,e("div",Ge,r(C(c).totalPrice),1)]),u.value==="delivery"?(n(),i("div",Ne,[Fe,e("div",He,r(x.value),1)])):y("",!0),e("div",Le,[m.value?y("",!0):(n(),i("div",Ae,"Списать бонусы: "+r(b.value),1)),m.value===!0?(n(),i("div",Ee,[T(" Использовать бонусы: "),a(e("input",{type:"text",placeholder:b.value,"onUpdate:modelValue":o[16]||(o[16]=t=>k.value=t),class:"bonus-value-use"},null,8,Je),[[_,k.value]]),T(" из "+r(b.value),1)])):y("",!0),e("div",Ke,[a(e("input",{type:"checkbox",id:"cbx-3","onUpdate:modelValue":o[17]||(o[17]=t=>m.value=t)},null,512),[[h,m.value]]),Re])]),e("div",$e,[je,e("div",qe,r(O.value),1)]),e("div",ze,[Qe,e("div",We,r(M.value),1)]),d.value==="online"?(n(),i("button",Xe," Оплатить ")):(n(),i("button",{key:2,type:"btn",class:"btn border-btn color-one",onClick:D}," Оформить "))])])):(n(),i("div",Ye,[Ze,L(E,{path:"catalog"},{default:A(()=>[T("Перейти в каталог")]),_:1})]))]))}},st=G(tt,[["__scopeId","data-v-fbb768f0"]]);export{st as default};
