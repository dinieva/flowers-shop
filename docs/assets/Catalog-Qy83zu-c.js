import{_ as $,o as i,c as n,r as m,b as t,F as h,d as w,g as B,t as k,h as y,a as C,w as J,i as K,v as Q,T as W,p as I,e as O,n as R,j as Y,k as V,l as ee,D as te,m as oe}from"./index-UCRmdD21.js";import{u as se,C as le}from"./CardComponent-ByMIamg9.js";import{u as ae}from"./catalog-ACNdA4N4.js";const ie={},ne={class:"loader"};function re(a,c){return i(),n("span",ne,"Loading")}const ce=$(ie,[["render",re],["__scopeId","data-v-91b3c3f3"]]),de="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%2012H18M12%206V18'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ue="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2%2012C2%2011.4477%202.44772%2011%203%2011H21C21.5523%2011%2022%2011.4477%2022%2012C22%2012.5523%2021.5523%2013%2021%2013H3C2.44772%2013%202%2012.5523%202%2012Z'%20fill='%230F0F0F'/%3e%3c/svg%3e",ve=a=>(I("data-v-5cb62a42"),a=a(),O(),a),pe={key:0,class:"filter-wrapper"},me={class:"filter-container"},_e={class:"filter-header"},fe=ve(()=>t("button",{type:"button",class:"filter-btn"},[B(" Фильтры "),t("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M19 4V10M19 10C17.8954 10 17 10.8954 17 12C17 13.1046 17.8954 14 19 14M19 10C20.1046 10 21 10.8954 21 12C21 13.1046 20.1046 14 19 14M19 14V20M12 4V16M12 16C10.8954 16 10 16.8954 10 18C10 19.1046 10.8954 20 12 20C13.1046 20 14 19.1046 14 18C14 16.8954 13.1046 16 12 16ZM5 8V20M5 8C6.10457 8 7 7.10457 7 6C7 4.89543 6.10457 4 5 4C3.89543 4 3 4.89543 3 6C3 7.10457 3.89543 8 5 8Z",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round"})])],-1)),he={class:"filter-accordion"},ge=["onClick"],Ce={key:0,src:de,alt:"plus",class:"btn-plus"},we={key:1,src:ue,alt:"plus",class:"btn-minus"},be={key:0,class:"accordion-content"},Fe=["id","value","name","onUpdate:modelValue","onClick"],ke=["for"],$e={class:"filter-btn__reset"},Me={__name:"FilterModalComponent",props:{filterBlockTitles:{type:Array,required:!0},openMobileFilter:{type:Boolean,required:!0,default:!1},filteredParams:{type:Object,required:!0}},emits:["closeMobileFilter","filterFlowers","resetFunc","createFilteredObj"],setup(a){const c=m(""),p=r=>{c.value===r?c.value="":c.value=r};return(r,u)=>a.openMobileFilter?(i(),n("div",pe,[t("div",me,[t("div",_e,[fe,t("button",{class:"close-modal",onClick:u[0]||(u[0]=d=>r.$emit("closeMobileFilter"))})]),t("div",he,[(i(!0),n(h,null,w(a.filterBlockTitles,d=>(i(),n("div",{class:"filter-accordion__item",key:d.id},[t("button",{class:"accordion accordion-btn",onClick:s=>p(d.rus)},[B(k(d.rus)+" ",1),c.value!==d.rus?(i(),n("img",Ce)):y("",!0),c.value===d.rus?(i(),n("img",we)):y("",!0)],8,ge),C(W,{name:"no-mode-fade"},{default:J(()=>[c.value===d.rus?(i(),n("div",be,[(i(!0),n(h,null,w(d.links,(s,x)=>(i(),n("div",{class:"checkbox",key:x},[K(t("input",{type:"radio",id:s,value:s,name:d.rus,class:"custom-checkbox","onUpdate:modelValue":M=>a.filteredParams[d.eng]=M,onClick:M=>r.$emit("createFilteredObj",(d.eng,s))},null,8,Fe),[[Q,a.filteredParams[d.eng]]]),t("label",{for:s},k(d.links[x]),9,ke)]))),128))])):y("",!0)]),_:2},1024)]))),128))]),t("div",$e,[t("button",{onClick:u[1]||(u[1]=d=>(r.$emit("filterFlowers",a.filteredParams),r.$emit("closeMobileFilter")))}," Применить "),t("button",{onClick:u[2]||(u[2]=d=>(r.$emit("resetFunc"),r.$emit("closeMobileFilter")))},"Сбросить")])])])):y("",!0)}},ye=$(Me,[["__scopeId","data-v-5cb62a42"]]),b=a=>(I("data-v-de162e42"),a=a(),O(),a),xe={class:"filter-container"},Se=b(()=>t("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M19 4V10M19 10C17.8954 10 17 10.8954 17 12C17 13.1046 17.8954 14 19 14M19 10C20.1046 10 21 10.8954 21 12C21 13.1046 20.1046 14 19 14M19 14V20M12 4V16M12 16C10.8954 16 10 16.8954 10 18C10 19.1046 10.8954 20 12 20C13.1046 20 14 19.1046 14 18C14 16.8954 13.1046 16 12 16ZM5 8V20M5 8C6.10457 8 7 7.10457 7 6C7 4.89543 6.10457 4 5 4C3.89543 4 3 4.89543 3 6C3 7.10457 3.89543 8 5 8Z",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round"})],-1)),Ve=["aria-hidden","active"],Pe=b(()=>t("path",{fill:"currentColor",d:"M5.64645 8.64645c.19526-.19527.51184-.19527.7071 0L12 14.2929l5.6464-5.64645c.1953-.19527.5119-.19527.7072 0 .1952.19526.1952.51184 0 .7071L12 15.7071 5.64645 9.35355c-.19527-.19526-.19527-.51184 0-.7071Z"},null,-1)),Be=[Pe],Ie=b(()=>t("option",{value:"noOption"},"Сортировать по",-1)),Oe=b(()=>t("option",{value:"bests"},"Бестселлеры",-1)),Te=b(()=>t("option",{value:"decrease"},"Цена по убыванию",-1)),ze=b(()=>t("option",{value:"increase"},"Цена по возрастанию",-1)),Le={__name:"MobileFilterComponent",emits:["sortedCatalog","openMobileFilter"],setup(a){return(c,p)=>(i(),n("div",xe,[t("button",{type:"button",class:"filter-btn",onClick:p[0]||(p[0]=r=>c.$emit("openMobileFilter"))},[B(" Фильтры "),Se]),t("select",{type:"button",class:"filter-btn select",onChange:p[1]||(p[1]=r=>c.$emit("sortedCatalog",r.target.value))},[(i(),n("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",class:R(["menu__btn-icon",{"svg-active":c.toggleSubmenu==!0}]),"aria-hidden":c.toggleSubmenu,active:c.toggleSubmenu},Be,10,Ve)),Ie,Oe,Te,ze],32)]))}},Ae=$(Le,[["__scopeId","data-v-de162e42"]]),Ge={class:"filter-block__category"},Re=["id","value","name","checked"],Ze=["for"],je={__name:"FilterComponent",props:{links:{type:Array},category:{type:String},filterParams:{type:Array,required:!0}},emits:["filterFlowers","update:value"],setup(a){return(c,p)=>(i(),n("div",Ge,[(i(!0),n(h,null,w(a.links,(r,u)=>(i(),n("div",{class:"checkbox",key:u},[t("input",{type:"radio",id:r,value:r,name:a.category,checked:a.filterParams.includes(r),class:"custom-checkbox",onClick:p[0]||(p[0]=d=>c.$emit("filterFlowers",d,c.prop))},null,8,Re),t("label",{for:r},k(r),9,Ze)]))),128))]))}},De=$(je,[["__scopeId","data-v-82ff7ecc"]]),Z=a=>(I("data-v-d5cadb89"),a=a(),O(),a),Ue={class:"catalog"},qe={key:1},Ee=Z(()=>t("div",{class:"catalog-header"},[t("h1",null,"Выберите свой букет")],-1)),Ne={class:"catalog-content"},He={class:"filter"},Xe={class:"filter-block__title"},Je={class:"items-wrapper"},Ke={key:0,class:"items-wrapper__content"},Qe={key:1,class:"items-wrapper__nothing"},We=Z(()=>t("h3",null,"Ничего не найдено",-1)),Ye=[We],et={class:"pagination-wrapper"},tt=["onClick"],P=12,ot={__name:"Catalog",setup(a){const c=m(!1),p=m(!1),r=m(!1),u=ae(),d=Y(),s=m([]),M=se().allFavoritesItems,g=m({decoration:"",type:"",size:"",composition:""}),j=l=>{l.forEach(e=>{M.find(v=>v.title===e.title)&&(e.isFavorite=!0)})},F=m([]),T=[{id:"f1",rus:"Оформление",eng:"decoration",links:["В упаковке","Шляпная коробка","Корзина с цветами","Композиция в ящике"]},{id:"f2",rus:"Вид",eng:"type",links:["Монобукет","Сборный","Сухоцветы"]},{id:"f3",rus:"Размер",eng:"size",links:["S","M","L","XL"]},{id:"f4",rus:"Цветы",eng:"composition",links:["Розы","Гортензии","Тюльпаны","Ранункулюсы","Лилии","Хризантемы","Герберы","Эустома","Орхидеи","Пионы","Лаванда","Каллы","Ромашки","Гиацинты","Гипсофила","Мимоза","Диантус"]}],_=m(1),z=V(()=>P*(_.value-1)),D=V(()=>Math.ceil(s.value.length/P)),U=l=>{_.value=l,console.log(" allFlowers.value pagination",L.value)},L=V(()=>s.value.slice(z.value,P+z.value)),f=m({}),q=l=>{for(let e in l)e==="composition"?(_.value=1,s.value=s.value.filter(o=>o[e].find(v=>v==f.value[e]))):(_.value=1,s.value=s.value.filter(o=>o[e]===f.value[e])),window.scrollTo({top:0,behavior:"smooth"})},E=(l,e)=>{s.value=u.allFlowers,l.target.checked?(F.value.push(l.target.value),e==="decoration"?f.value.decoration=l.target.value:e==="type"?f.value.type=l.target.value:e==="size"?f.value.size=l.target.value:e==="composition"&&(f.value.composition=l.target.value),q(f.value)):delete f[e]},N=(l,e)=>{l==="decoration"?g.value.decoration=e:l==="type"?g.value.type=e:l==="size"?g.value.size=e:l==="composition"&&(g.value.composition=e)},H=l=>{s.value=u.allFlowers;for(let e in l)l[e]!==""&&(e==="composition"?(_.value=1,s.value=s.value.filter(o=>o[e].find(v=>v==l[e]))):(_.value=1,s.value=s.value.filter(o=>o[e]===l[e])),window.scrollTo({top:0,behavior:"smooth"}))},X=l=>{const e=[...s.value];s.value=u.allFlowers,_.value=1,l==="bests"&&(s.value=[...d.trends]),l==="decrease"&&(s.value=e.sort((o,v)=>v.price-o.price)),l==="increase"&&(s.value=e.sort((o,v)=>o.price-v.price))},S=m(!1),A=()=>{S.value=!S.value,window.scrollTo({top:0,behavior:"smooth"})},G=()=>{_.value=1,s.value=u.allFlowers,f.value={},F.value=[],console.log(F.value),g.value={decoration:"",type:"",size:"",composition:""}};return ee(()=>{c.value=!0,s.value=u.allFlowers,c.value=!1,j(s.value)}),(l,e)=>(i(),n(h,null,[C(te,{isOpenCart:S.value,onCloseCart:A},null,8,["isOpenCart"]),C(ye,{filterBlockTitles:T,openModal:p.value,openMobileFilter:r.value,filteredParams:g.value,onFilterCatalog:e[0]||(e[0]=o=>p.value=!0),onCloseMobileFilter:e[1]||(e[1]=o=>r.value=!1),onFilterFlowers:H,onCreateFilteredObj:N,onResetFunc:G},null,8,["openModal","openMobileFilter","filteredParams"]),t("div",Ue,[c.value?(i(),oe(ce,{key:0})):(i(),n("div",qe,[Ee,C(Ae,{onSortedCatalog:X,onOpenMobileFilter:e[2]||(e[2]=o=>r.value=!0)}),t("div",Ne,[t("aside",He,[(i(),n(h,null,w(T,o=>t("div",{class:"filter-block",key:o.id},[t("div",Xe,[t("h3",null,k(o.rus),1)]),C(De,{links:o.links,category:o.rus,filterParams:F.value,"onUpdate:filterParams":e[3]||(e[3]=v=>F.value=v),onFilterFlowers:v=>E(v,o.eng)},null,8,["links","category","filterParams","onFilterFlowers"])])),64)),t("button",{class:"btn border-btn",onClick:G},"Сбросить")]),t("div",Je,[s.value.length>0?(i(),n("div",Ke,[(i(!0),n(h,null,w(L.value,o=>(i(),n("div",{key:o,class:"item"},[C(le,{card:o,onCloseCart:A},null,8,["card"])]))),128))])):(i(),n("div",Qe,Ye))])]),t("div",et,[(i(!0),n(h,null,w(D.value,o=>(i(),n("button",{type:"button",class:R(["btn-page",{"current-page":_.value===o}]),key:o,onClick:v=>U(o)},k(o),11,tt))),128))])]))])],64))}},it=$(ot,[["__scopeId","data-v-d5cadb89"]]);export{it as default};
